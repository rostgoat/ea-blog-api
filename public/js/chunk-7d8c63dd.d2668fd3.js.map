{"version":3,"sources":["webpack:///./src/views/ViewPost.vue?e844","webpack:///./src/views/ViewPost.vue?2a39","webpack:///./src/views/ViewPost.vue","webpack:///./src/views/ViewPost.vue?175c","webpack:///./src/views/ViewPost.vue?c891"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","post","title","sub_title","postAuthor","postDate","imageSource","_l","paragraph","key","staticRenderFns","postUID","paragraphs","$route","params","id","getPostData","uid","formatContentParagraphs","formatPostCreatedDate","created_at","user","name","getImageURL","$storageMixinGetSignedURL","post_image_bucket_key","date","format","len","content","length","beginningIndex","INTERVAL","count","contentArray","index","includes","substr","substring","push","component","VCard","VCardSubtitle","VCardTitle","VContainer","VImg"],"mappings":"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","file":"js/chunk-7d8c63dd.d2668fd3.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewPost.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewPost.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"mx-auto mt-5 view-post\",attrs:{\"outlined\":\"\"}},[_c('v-container',{staticClass:\"view-post__content\"},[_c('v-card-title',{staticClass:\"view-post__title\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.post.title)+\" \")])]),_c('v-card-subtitle',{staticClass:\"view-post__subtitle\"},[_c('h4',[_vm._v(\" \"+_vm._s(_vm.post.sub_title)+\" \")])]),_c('div',{staticClass:\"view-post__details-container\"},[_c('div',{staticClass:\"view-post__details-container--created-by\"},[_vm._v(\" \"+_vm._s(_vm.postAuthor)+\" \")]),_c('div',{staticClass:\"view-post__details-container--created-date\"},[_vm._v(\" \"+_vm._s(_vm.postDate)+\" \")])]),_c('div',{staticClass:\"view-post__img-container\"},[_c('v-img',{staticClass:\"pa-2 posts-list-item__img\",attrs:{\"id\":\"photo\",\"src\":_vm.imageSource,\"aspect-ratio\":\"2.4\",\"width\":\"500\",\"contain\":\"\"}})],1),_c('div',{staticClass:\"view-post__description\"},_vm._l((_vm.paragraphs),function(paragraph){return _c('div',{key:paragraph},[_c('div',{staticClass:\"view-post__paragraph\"},[_vm._v(\" \"+_vm._s(paragraph)+\" \")])])}),0)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { getOne } from \"../api/posts\";\nimport moment from \"moment\";\nimport StorageMixin from \"../mixins/storage\";\nimport { Mixins } from \"vue-mixin-decorator\";\n\n@Component\nexport default class ViewPost extends Mixins<StorageMixin>(StorageMixin) {\n  post: any = {};\n  postUID = \"\";\n  postDate: any = \"\";\n  postAuthor = \"\";\n  imageSource = \"\";\n\n  paragraphs: string[] = [];\n\n  /**\n   * Get post uid from route and fetch it\n   */\n  async mounted() {\n    this.postUID = this.$route.params.id;\n    await this.getPostData(this.postUID);\n  }\n\n  /**\n   * Get post data from db\n   */\n  async getPostData(uid: string) {\n    this.post = await getOne({ uid });\n    this.formatContentParagraphs(this.post);\n    this.formatPostCreatedDate(this.post.created_at);\n    this.postAuthor = this.post.user.name;\n    this.imageSource = await this.getImageURL();\n  }\n\n  /**\n   * Get signed url from s3\n   */\n  async getImageURL() {\n    return await this.$storageMixinGetSignedURL(\n      process.env.VUE_APP_AWS_BUCKET,\n      this.post.post_image_bucket_key\n    );\n  }\n\n  /**\n   * Format post creation date for user readibility\n   */\n  formatPostCreatedDate(date: Date) {\n    this.postDate = moment(date).format(\"MMMM DD, YYYY\");\n  }\n\n  /**\n   * Divide the content into 500 word chunks with space in between\n   * and display the content on the page\n   */\n  formatContentParagraphs(post: any) {\n    const len = this.post.content.length;\n    let beginningIndex = 0;\n    const INTERVAL = 500;\n    let count = INTERVAL;\n    const contentArray: string[] = [...post.content];\n\n    // cut up content into 500 word chunks\n    for (let index = 0; index < contentArray.length; index++) {\n      if (index >= count && contentArray[index].includes(\".\")) {\n        const substr = post.content.substring(beginningIndex, index + 1);\n        this.paragraphs.push(substr);\n        beginningIndex = index + 1;\n        count += INTERVAL;\n      }\n\n      // if one chunk remains that is less than 500, insert it at the end of the array\n      if (len - beginningIndex <= 500) {\n        const substr = post.content.substring(beginningIndex, len);\n        this.paragraphs.push(substr);\n        break;\n      }\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewPost.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewPost.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ViewPost.vue?vue&type=template&id=77f08460&\"\nimport script from \"./ViewPost.vue?vue&type=script&lang=ts&\"\nexport * from \"./ViewPost.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ViewPost.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\ninstallComponents(component, {VCard,VCardSubtitle,VCardTitle,VContainer,VImg})\n"],"sourceRoot":""}